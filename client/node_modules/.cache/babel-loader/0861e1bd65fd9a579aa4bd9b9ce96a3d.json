{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrateur\\\\Documents\\\\03-DEV\\\\Cours\\\\Udemy\\\\Marketplace\\\\client\\\\src\\\\components\\\\Checkout\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useFormValidation } from \"../../lib/hooks/useFormValidation\";\nimport useAuthentication from \"../../lib/hooks/useAuthentication\";\nimport { setDelivery } from \"../../lib/state/actions\";\nimport * as Input from \"../Auth/Input\";\nimport Payment from \"./Payment\";\nimport DeliveryBox from \"./DeliveryBox\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultValues = {\n  delivery: \"standard\",\n  address: \"\"\n};\nconst options = [\"Canada\", \"Russia\", \"United States\", \"India\", \"Afganistan\"];\n\nconst Checkout = () => {\n  _s();\n\n  const dispatch = useDispatch();\n  const {\n    handleAuthentication\n  } = useAuthentication(dispatch);\n  const {\n    user\n  } = useSelector(state => ({ ...state.user\n  }));\n  const {\n    delivery\n  } = useSelector(state => ({ ...state.cart\n  }));\n  const {\n    first,\n    last,\n    email,\n    address,\n    country,\n    city\n  } = user !== null && user !== void 0 ? user : {};\n  const {\n    formValues,\n    validate,\n    register,\n    handleOnChange,\n    isValid\n  } = useFormValidation({\n    formName: \"checkout\",\n    defaultValues: { ...user,\n      ...defaultValues\n    }\n  });\n  React.useEffect(() => register({ ...user,\n    ...defaultValues\n  }), [user]);\n  React.useEffect(() => {\n    var _formValues$checkout;\n\n    validate((_formValues$checkout = formValues[\"checkout\"]) !== null && _formValues$checkout !== void 0 ? _formValues$checkout : {});\n  }, [formValues]);\n  React.useEffect(() => {\n    handleAuthentication();\n  }, [user]);\n\n  const handleDeliveryOnChange = (e, value) => {\n    handleOnChange(e, value);\n    dispatch(setDelivery(value));\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"section-content padding-y\",\n      style: {\n        margin: \"100px auto\",\n        maxWidth: \"720px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"container\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"card-body\",\n            children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n              className: \"card-title mb-3\",\n              children: \"Delivery info\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-sm-6\",\n                children: /*#__PURE__*/_jsxDEV(DeliveryBox, {\n                  title: \"standard\",\n                  value: delivery,\n                  message: \"Free by airline within 20 days\",\n                  onChange: e => handleDeliveryOnChange(e, \"standard\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 61,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"form-group col-sm-6\",\n                children: /*#__PURE__*/_jsxDEV(DeliveryBox, {\n                  title: \"fast\",\n                  value: delivery,\n                  message: \"Extra 20$ will be charged\",\n                  onChange: e => handleDeliveryOnChange(e, \"fast\")\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 69,\n                  columnNumber: 19\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 68,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 59,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(Input.Text, {\n                label: \"First name\",\n                name: \"first\",\n                value: first,\n                onChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 79,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input.Text, {\n                label: \"Last name\",\n                name: \"last\",\n                value: last,\n                onChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 85,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: /*#__PURE__*/_jsxDEV(Input.Email, {\n                label: \"Email\",\n                value: email,\n                onChange: handleOnChange,\n                col: \"6\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-row\",\n              children: [/*#__PURE__*/_jsxDEV(Input.Select, {\n                name: \"country\",\n                options: options,\n                value: country,\n                label: \"Country\",\n                col: \"6\",\n                onChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Input.Text, {\n                label: \"City\",\n                name: \"city\",\n                value: city,\n                onChange: handleOnChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 110,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Input.TextArea, {\n              label: \"Address\",\n              name: \"address\",\n              value: address,\n              onChange: handleOnChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 117,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-row\",\n            style: {\n              padding: \"0 25px 30px\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Payment, {\n              isValid: !isValid\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n};\n\n_s(Checkout, \"T7LLg/5edABHVM9WCGRQqjlNpt8=\", false, function () {\n  return [useDispatch, useAuthentication, useSelector, useSelector, useFormValidation];\n});\n\n_c = Checkout;\nexport default Checkout;\n\nvar _c;\n\n$RefreshReg$(_c, \"Checkout\");","map":{"version":3,"sources":["C:/Users/Administrateur/Documents/03-DEV/Cours/Udemy/Marketplace/client/src/components/Checkout/index.js"],"names":["React","useSelector","useDispatch","useFormValidation","useAuthentication","setDelivery","Input","Payment","DeliveryBox","defaultValues","delivery","address","options","Checkout","dispatch","handleAuthentication","user","state","cart","first","last","email","country","city","formValues","validate","register","handleOnChange","isValid","formName","useEffect","handleDeliveryOnChange","e","value","margin","maxWidth","padding"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { useSelector, useDispatch } from \"react-redux\";\nimport { useFormValidation } from \"../../lib/hooks/useFormValidation\";\nimport useAuthentication from \"../../lib/hooks/useAuthentication\";\nimport { setDelivery } from \"../../lib/state/actions\";\n\nimport * as Input from \"../Auth/Input\";\nimport Payment from \"./Payment\";\nimport DeliveryBox from \"./DeliveryBox\";\n\nconst defaultValues = {\n  delivery: \"standard\",\n  address: \"\",\n};\n\nconst options = [\"Canada\", \"Russia\", \"United States\", \"India\", \"Afganistan\"];\nconst Checkout = () => {\n  const dispatch = useDispatch();\n  const { handleAuthentication } = useAuthentication(dispatch);\n  const { user } = useSelector((state) => ({ ...state.user }));\n  const { delivery } = useSelector((state) => ({ ...state.cart }));\n  const { first, last, email, address, country, city } = user ?? {};\n  const {\n    formValues,\n    validate,\n    register,\n    handleOnChange,\n    isValid,\n  } = useFormValidation({\n    formName: \"checkout\",\n    defaultValues: { ...user, ...defaultValues },\n  });\n\n  React.useEffect(() => register({ ...user, ...defaultValues }), [user]);\n  React.useEffect(() => {\n    validate(formValues[\"checkout\"] ?? {});\n  }, [formValues]);\n\n  React.useEffect(() => {\n    handleAuthentication();\n  }, [user]);\n\n  const handleDeliveryOnChange = (e, value) => {\n    handleOnChange(e, value);\n    dispatch(setDelivery(value));\n  };\n\n  return (\n    <>\n      <section\n        className=\"section-content padding-y\"\n        style={{ margin: \"100px auto\", maxWidth: \"720px\" }}\n      >\n        <div className=\"container\">\n          <div className=\"card mb-4\">\n            <div className=\"card-body\">\n              <h4 className=\"card-title mb-3\">Delivery info</h4>\n\n              <div className=\"form-row\">\n                <div className=\"form-group col-sm-6\">\n                  <DeliveryBox\n                    title=\"standard\"\n                    value={delivery}\n                    message=\"Free by airline within 20 days\"\n                    onChange={(e) => handleDeliveryOnChange(e, \"standard\")}\n                  />\n                </div>\n                <div className=\"form-group col-sm-6\">\n                  <DeliveryBox\n                    title=\"fast\"\n                    value={delivery}\n                    message=\"Extra 20$ will be charged\"\n                    onChange={(e) => handleDeliveryOnChange(e, \"fast\")}\n                  />\n                </div>\n              </div>\n\n              <div className=\"form-row\">\n                <Input.Text\n                  label=\"First name\"\n                  name=\"first\"\n                  value={first}\n                  onChange={handleOnChange}\n                />\n                <Input.Text\n                  label=\"Last name\"\n                  name=\"last\"\n                  value={last}\n                  onChange={handleOnChange}\n                />\n              </div>\n\n              <div className=\"form-row\">\n                <Input.Email\n                  label=\"Email\"\n                  value={email}\n                  onChange={handleOnChange}\n                  col=\"6\"\n                />\n              </div>\n              <div className=\"form-row\">\n                <Input.Select\n                  name=\"country\"\n                  options={options}\n                  value={country}\n                  label=\"Country\"\n                  col=\"6\"\n                  onChange={handleOnChange}\n                />\n                <Input.Text\n                  label=\"City\"\n                  name=\"city\"\n                  value={city}\n                  onChange={handleOnChange}\n                />\n              </div>\n              <Input.TextArea\n                label=\"Address\"\n                name=\"address\"\n                value={address}\n                onChange={handleOnChange}\n              />\n            </div>\n            <div className=\"form-row\" style={{ padding: \"0 25px 30px\" }}>\n              <Payment isValid={!isValid} />\n            </div>\n          </div>\n        </div>\n      </section>\n    </>\n  );\n};\nexport default Checkout;\n"]},"metadata":{},"sourceType":"module"}