{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Administrateur\\\\Documents\\\\03-DEV\\\\Cours\\\\Udemy\\\\Marketplace\\\\client\\\\src\\\\components\\\\Checkout\\\\Payment.js\",\n    _s = $RefreshSig$();\n\nimport { processPayment } from '../../lib/service';\nimport { useSelector } from \"react-redux\";\nimport { selectDeliveryCost } from '../../lib/state/selectors';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Payment(_ref) {\n  _s();\n\n  let {\n    isValid\n  } = _ref;\n  const {\n    items\n  } = useSelector(state => ({ ...state.cart\n  }));\n  const shippingCost = useSelector(selectDeliveryCost) * 100; // stripe processes payment in cents\n\n  const shipping = {\n    price_data: {\n      currency: 'usd',\n      product_data: {\n        name: 'shipping'\n      },\n      unit_amount: shippingCost\n    },\n    quantity: 1\n  };\n\n  const processItem = item => ({\n    price_data: {\n      currency: 'usd',\n      product_data: {\n        name: item.name\n      },\n      unit_amount: item.price * 100\n    },\n    quantity: item.quantity\n  });\n\n  const order = items.map(processItem);\n  const orderWithShipping = order.concat(shipping);\n  return /*#__PURE__*/_jsxDEV(\"button\", {\n    className: \"btn btn-outline-primary btn-lg mt-3 btn-block\",\n    onClick: () => processPayment(orderWithShipping),\n    disabled: isValid,\n    children: \"Checkout\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 22,\n    columnNumber: 11\n  }, this);\n}\n\n_s(Payment, \"vnUVs4S+C8mKFwlPGQO9qaELCjU=\", false, function () {\n  return [useSelector, useSelector];\n});\n\n_c = Payment;\nexport default Payment;\n\nvar _c;\n\n$RefreshReg$(_c, \"Payment\");","map":{"version":3,"sources":["C:/Users/Administrateur/Documents/03-DEV/Cours/Udemy/Marketplace/client/src/components/Checkout/Payment.js"],"names":["processPayment","useSelector","selectDeliveryCost","Payment","isValid","items","state","cart","shippingCost","shipping","price_data","currency","product_data","name","unit_amount","quantity","processItem","item","price","order","map","orderWithShipping","concat"],"mappings":";;;AACA,SAASA,cAAT,QAA+B,mBAA/B;AACA,SAASC,WAAT,QAA4B,aAA5B;AACA,SAASC,kBAAT,QAAmC,2BAAnC;;;AAEA,SAASC,OAAT,OAA8B;AAAA;;AAAA,MAAb;AAAEC,IAAAA;AAAF,GAAa;AAC5B,QAAM;AAAEC,IAAAA;AAAF,MAAYJ,WAAW,CAACK,KAAK,KAAK,EAAE,GAAGA,KAAK,CAACC;AAAX,GAAL,CAAN,CAA7B;AACA,QAAMC,YAAY,GAAGP,WAAW,CAACC,kBAAD,CAAX,GAAkC,GAAvD,CAF4B,CAE+B;;AAC3D,QAAMO,QAAQ,GAAG;AAAEC,IAAAA,UAAU,EAAE;AAAEC,MAAAA,QAAQ,EAAE,KAAZ;AAAmBC,MAAAA,YAAY,EAAE;AAACC,QAAAA,IAAI,EAAE;AAAP,OAAjC;AAAqDC,MAAAA,WAAW,EAAEN;AAAlE,KAAd;AAA+FO,IAAAA,QAAQ,EAAE;AAAzG,GAAjB;;AACA,QAAMC,WAAW,GAAGC,IAAI,KACtB;AACIP,IAAAA,UAAU,EAAE;AACRC,MAAAA,QAAQ,EAAE,KADF;AAERC,MAAAA,YAAY,EAAE;AAACC,QAAAA,IAAI,EAAEI,IAAI,CAACJ;AAAZ,OAFN;AAGRC,MAAAA,WAAW,EAAEG,IAAI,CAACC,KAAL,GAAa;AAHlB,KADhB;AAMIH,IAAAA,QAAQ,EAAEE,IAAI,CAACF;AANnB,GADsB,CAAxB;;AAUA,QAAMI,KAAK,GAAGd,KAAK,CAACe,GAAN,CAAUJ,WAAV,CAAd;AACA,QAAMK,iBAAiB,GAAGF,KAAK,CAACG,MAAN,CAAab,QAAb,CAA1B;AACA,sBAAQ;AAAQ,IAAA,SAAS,EAAC,+CAAlB;AAAkE,IAAA,OAAO,EAAE,MAAMT,cAAc,CAACqB,iBAAD,CAA/F;AAAoH,IAAA,QAAQ,EAAEjB,OAA9H;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAR;AACD;;GAjBQD,O;UACWF,W,EACGA,W;;;KAFdE,O;AAkBT,eAAeA,OAAf","sourcesContent":["\nimport { processPayment } from '../../lib/service'\nimport { useSelector } from \"react-redux\";\nimport { selectDeliveryCost } from '../../lib/state/selectors'\n\nfunction Payment({ isValid }) {\n  const { items } = useSelector(state => ({ ...state.cart }))\n  const shippingCost = useSelector(selectDeliveryCost) * 100 // stripe processes payment in cents\n  const shipping = { price_data: { currency: 'usd', product_data: {name: 'shipping'}, unit_amount: shippingCost}, quantity: 1} \n  const processItem = item => (\n    {\n        price_data: {\n            currency: 'usd',\n            product_data: {name: item.name},\n            unit_amount: item.price * 100 \n        }, \n        quantity: item.quantity\n    }\n )\n  const order = items.map(processItem)\n  const orderWithShipping = order.concat(shipping)\n  return (<button className=\"btn btn-outline-primary btn-lg mt-3 btn-block\" onClick={() => processPayment(orderWithShipping)} disabled={isValid}>Checkout</button>);\n}\nexport default Payment;\n"]},"metadata":{},"sourceType":"module"}